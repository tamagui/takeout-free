# Production Environment Variables
# Copy this file to .env.production and fill in the actual values
# Run: cp .env.production.example .env.production

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================

# Platform: "uncloud" or "sst"
DEPLOYMENT_PLATFORM=uncloud

# Docker build architecture: "linux/amd64" or "linux/arm64"
DEPLOYMENT_ARCH=linux/amd64

# Server Configuration (for uncloud)
DEPLOY_HOST=your-server-ip
DEPLOY_USER=root
DEPLOY_SSH_KEY=~/.ssh/id_rsa

# ============================================================================
# APPLICATION URLs
# ============================================================================

# Main app domain
ONE_SERVER_URL=https://your-domain.com
BETTER_AUTH_URL=https://your-domain.com

# Zero sync server domain
VITE_PUBLIC_ZERO_SERVER=https://zero.your-domain.com


# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Main database connection (used for migrations)
DEPLOY_DB=postgresql://user:password@host:5432/postgres

# Zero sync databases (derived from DEPLOY_DB host, different db names)
# Zero requires 3 databases on the same host:
#   - Main database (your app data)
#   - zero_cvr (client view records)
#   - zero_cdb (change database)
ZERO_UPSTREAM_DB=postgresql://user:password@host:5432/postgres?sslmode=require
ZERO_CVR_DB=postgresql://user:password@host:5432/zero_cvr?sslmode=require
ZERO_CHANGE_DB=postgresql://user:password@host:5432/zero_cdb?sslmode=require

# ============================================================================
# AUTHENTICATION
# ============================================================================

# Generate with: openssl rand -hex 32
BETTER_AUTH_SECRET=your-secret-key-here

# GitHub OAuth (optional)
# ONECHAT_GITHUB_CLIENT_ID=your-github-client-id
# ONECHAT_GITHUB_CLIENT_SECRET=your-github-client-secret

# ============================================================================
# STORAGE (Cloudflare R2)
# ============================================================================

CLOUDFLARE_R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
CLOUDFLARE_R2_ACCESS_KEY=your-r2-access-key
CLOUDFLARE_R2_SECRET_KEY=your-r2-secret-key
CLOUDFLARE_R2_PUBLIC_URL=https://your-bucket.r2.cloudflarestorage.com

# ============================================================================
# PUSH NOTIFICATIONS (Apple)
# ============================================================================

# APNS_ENDPOINT=https://api.push.apple.com
# APNS_TEAM_ID=your-team-id
# APNS_KEY_ID=your-key-id
# APNS_KEY=your-apns-key

# ============================================================================
# EMAIL (Postmark)
# ============================================================================

POSTMARK_SERVER_TOKEN=your-postmark-server-token

# ============================================================================
# ANALYTICS (PostHog)
# ============================================================================

# VITE_POSTHOG_API_KEY=your-posthog-key
# VITE_POSTHOG_HOST=https://us.i.posthog.com

# ============================================================================
# AWS (for SST deployment only)
# ============================================================================

# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-west-1

# ============================================================================
# CLOUDFLARE ORIGIN CA (optional)
# ============================================================================

# For Uncloud - Use Origin CA instead of Let's Encrypt for custom domains
# Benefits: bypass rate limits, enable Cloudflare proxy (DDoS protection)
# Generate at: Cloudflare Dashboard → SSL/TLS → Origin Server
# ORIGIN_CA_CERT=src/uncloud/certs/origin.pem
# ORIGIN_CA_KEY=src/uncloud/certs/origin.key

# ============================================================================
# UNCLOUD TEAM SHARING (optional)
# ============================================================================

# Encrypt cluster config for team sharing
# UNCLOUD_CLUSTER_PASSWORD=your-secure-password
